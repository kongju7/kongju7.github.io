---
layout: post
title: "[Python] 내가 필요해서 정리하는 Jinja 템플릿 기본 사용법"  
subtitle: 파이썬 판다스 초보자를 위한 치트 시트    
categories: Data_Science
tags: [Python, Data Science, Jinja template, Flask, 파이썬, 플라스크, 진자 템플릿]
---


내가 필요해서 간략하게 정리하는 **파이썬(Python) 진자 템플릿(Jinja Template) 기본 사용법**입니다.

![진자 템플릿](/assets/images/jinja.png "진자 템플릿)")
  
  
# 진자 템플릿(Jinja Template)

- 공식 문서 : [진자 템플릿 공식 문서](https://jinja.palletsprojects.com/en/3.1.x/){:target="_blank"}

- 파이썬 프로그래밍 언어를 위한 웹 템플릿 엔진
- 파이썬과 유사한 형태의 명령어 사용 
- Flask에서 html 파일을 렌더링할 때 활용
  - 즉, 데이터를 담은 변수를 return 값으로 html과 함께 넘겨주면, html에서 jinja 템플릿 규칙에 따라 화면에 표현함 


## 1. 변수 사용하기: {{ 변수명 }}

- 사용할 변수를 함수의 반환 값에 render_template의 인자로 넘기고,
- 함께 인자로 넘긴 html 파일(즉, './templates/' 폴더 안에 있는 'index.html') 안에 변수 자리 지정 
  - 변수 자리는 `{{ 변수명 }}` 으로 표기 

```python
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/<user>') 	# <user>별 페이지 생성
def hello(user): 		# <user> 변수 값을 함수로 넘김
	fruit = banana 		# 새로운 변수 선언 
    return render_template('index.html', name = user, fruit  = fruit) 				# 변수들을 html로 넘김

if __name__ == '__main__':
    app.run(debug = True)
```

- 'index.html'에서 변수 자리 작성 

```html
<!DOCTYPE html>
<html>
  <body>
    <h1>Hello {{ name }}</h1>
    <h2>My favorite fruit is {{ fruit }}</h2>
    <h2>URL : http://127.0.0.1:5000/{{ name }}</h2>
  </body>
</html>
```

## 2. 반복문 사용하기: {% for문 %} ... {% endfor %}

- 리스트를 담은 변수를 함수의 반환 값에 render_template의 인자로 넘기고,
- 함께 인자로 넘긴 html 파일(즉, './templates/' 폴더 안에 있는 'loop.html') 안에 변수 자리 지정 
  - 반복문 자리는 시작 위치에 {% for문 %}, 종료 위치에 {% endfor %}로 표기 

```python
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/fruit_loop') 	# fruit_loop 페이지 생성 
def fruit_loop(): 
	fruit_list = ['apple', 'banana', 'melon'] # 새로운 리스트 선언 
    return render_template('loop.html', fruit = fruit_list) # 리스트를 담은 변수를 html로 넘김

if __name__ == '__main__':
    app.run(debug = True)
```

- 'loop.html'에 반복문 자리 작성 

```html
<!DOCTYPE html>
<html>
  <body>
    <ol>
      {% for fruit in fruit_list  %}
      <li>{{ fruit }}</li>
      {% endfor %}
    </ol>
    <ul>
      {% for fruit in fruit_list  %}
      <p> 인덱스: {{ loop.index0 }}, 값: {{ fruit}} </p>
      {% endfor %}
    </ul>
  </body>
</html>
```
- `loop.index` : 반복 순서 1부터 1씩 증가 
- `loop.index0` : 반복 순서 0부터 1씩 증가
- `loop.first` : 반복 순서가 처음일 경우 True, 아니면 False
- `loop.last` : 반복 순서가 마지막일 경우 True, 아니면 False 


## 3. 조건문 사용하기: {% if문 %} ... {% elif문 %} ... {% else %} ... {% endif %}

```python
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/num_if') # num_if 페이지 생성
def num_if(): 
	num = 7 	# 새로운 변수 선언 
    return render_template('index.html', namber = num) 
    
if __name__ == '__main__':
    app.run(debug = True)
```

- 'num_if.html'에 if문 자리 작성 

```html
<!DOCTYPE html>
<html>
  <body>
    {% if namber >= 50 %}
    <h3>50보다 크거나 같습니다.</h3>
    {% elif namber >= 25 %}
    <h3>25보다 크거나 같습니다.</h3> 
    {% else %}
    <h3>25보다 작습니다. 그 값은 {{ number }}</h3>
    {% endif %}
  </body>
</html>
```

## 4. 주석 처리: {# ... #}

- 주석은 {# #}안에 작성

```html
<!DOCTYPE html>
<html>
  <body>
	<p>Hello</p>
    {# 이것은 주석입니다 #}
  </body>
</html>
```

## 5. Jinja 상속: {% extends "{base}.html" %}

- 상속을 이용해 긴 html 코드를 다시 입력할 필요 없이 기존에 있던 html파일을 부모 파일로 두어, 자식 파일을 생성하면서 효율을 높일 수 있음.
- 사용 방법: 부모 html의 경로를 상속 받을 자식 html 파일의 첫 줄에 입력하여 사용 
  - 예: 부모 'base.html', 자식 'child.html'이고, 같은 경로에 있는 경우 

- 'child.html' 첫 줄에 부모 경로 작성 

```html
{% extends "base.html" %}
```
- 상속 여러 번 가능. 즉, 부모 'base.html'-> 자식 'child.html' -> 손자 'grandchild.html'


## 6. Jinja 블록(Block): {% block {블록명} %}{% endblock %}


- 블록(Block)을 이용하여 상속한 내용에 더해 원하는 위치에 내용을 추가할 수 있음. 
- [1단계] 부모 html의 원하는 위치에 block 열고 닫기 
```html
<!DOCTYPE html>
<html>
  <body>
	<h1>Hello {% block body %}{% endblock %} </h1>
  </body>
</html>
```
  -> 'Hello'만 출력 

- [2단계] 상속받은 자식 html에 해당 블록을 열고 내용 기재후 닫기  
```html
{% extends "base.html" %}
<html>
 {% block body %} Nice to meet you!{% endblock %}
```
  -> 'Hello Nice to meet you!'가 출력

- {블록명}이 중복되면 부모 블록이 출력되지 않으니 주의 
  
    
  
### 덧붙이는 말: 혹시 오류가 있다면 제보 주세요!